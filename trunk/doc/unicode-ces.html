<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
<TITLE>Package: Unicode.CES</TITLE>
<META NAME="generator" CONTENT="AdaBrowse 4.0.1 http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/">
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<LINK REV="made" HREF="http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/">
<STYLE TYPE="text/css">
  TABLE.title  { background-color : #99CCFF }
  TABLE.footer { background-color : #99CCFF }
  TD.type { background-color : #CCEEFF }
  TD.odd { background-color : #99CCFF }
  TD.even { background-color : #CCEEFF }
  TD.code { background-color : #EEEEEE }
  SPAN.comment { color : red }
  SPAN.literal { color : green }
  SPAN.definition { color : purple }
  H3.subtitle  { background-color : #CCEEFF }
  UL.index { list-style: none }
</STYLE>
<LINK REL="stylesheet" HREF="adabrowse.css" TYPE="text/css">
</HEAD>

<BODY BGCOLOR="#FFFFF4">

<TABLE WIDTH="100%" CLASS="title" BORDER=0 CELLSPACING=0                      CELLPADDING=5><TR><TD><H2>Package: Unicode.CES</H2></TD></TR></TABLE>

<!-- Generated by AdaBrowse 4.0.1 http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/ -->
<H3 CLASS="subtitle">Dependencies</H3>
<PRE><CODE><STRONG>with</STRONG> Unchecked_Deallocation;
</CODE></PRE>
<HR>
<H3 CLASS="subtitle">Description</H3>
<DIV>
  This is the root of the hierarchy that provides different encoding
  schemes.
  Each of the child package provides function to convert to and from
  Utf32-encoded string, which thus acts as the central encoding scheme.
  In some cases, the string can be preceded by a BOM (byte-order mark),
  that indicates the encoding used and the byte-order used for the
  encoding. This BOM is always optional, and can never be mixed up with
  other characters.
 Byte sequence
</DIV>
<HR>
<TABLE WIDTH="100%" BORDER=1 CELLSPACING=0 CELLPADDING=0>
<TR><TD COLSPAN=2>
<H3 CLASS="subtitle">Header</H3>
</TD></TR>
<TR><TD COLSPAN=2 CLASS="odd">
<PRE><CODE><STRONG>package</STRONG> <A HREF="unicode.html">Unicode</A>.<A NAME="41_17"><SPAN CLASS="definition">CES</SPAN></A> <STRONG>is</STRONG>
</CODE></PRE>
</TD></TR>
<TR><TD WIDTH="2%" CLASS="odd"><PRE> </PRE></TD>
<TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD>
<H3 CLASS="subtitle">Exceptions</H3>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0>
<TR><TD ALIGN="LEFT" CLASS="code">
<CODE><A NAME="156_4"><SPAN CLASS="definition">Invalid_Encoding</SPAN></A></CODE></TD></TR>
<TR><TD>
<DIV>
  Raised whener the byte sequence associated with a given encoding
  scheme is not valid.
</DIV>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD>
<HR>
<H3 CLASS="subtitle">Type Summary</H3>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#67_9">Bom_Type</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#58_9">Byte_Order</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#48_9">Byte_Sequence_Access</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#123_9">Encode_Function</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#135_9">Encoding_Scheme</A></CODE></TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#146_13">Index_From_Offset</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#132_9">Length_Function</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#111_9">Read_Function</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#118_9">Width_Function</A></CODE></TD></TR>
</TABLE>
</TD></TR>
<TR><TD>
<HR>
<H3 CLASS="subtitle">Constants and Named Numbers</H3>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0>
<TR><TD ALIGN="LEFT" CLASS="code">
<CODE><A NAME="61_4"><SPAN CLASS="definition">Default_Byte_Order</SPAN></A> : <STRONG>constant</STRONG> <A HREF="#58_9">Byte_Order</A> := <A HREF="#58_41">Low_Byte_First</A>;</CODE>
</TD></TR>
<TR><TD>
<DIV>
  Order of bytes in word machines.
</DIV>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD>
<HR>
<H3 CLASS="subtitle">Other Items:</H3>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>subtype</STRONG> <A NAME="47_12"><SPAN CLASS="definition">Byte_Sequence</SPAN></A> <STRONG>is</STRONG> String;</CODE></PRE>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="48_9"><SPAN CLASS="definition">Byte_Sequence_Access</SPAN></A> <STRONG>is</STRONG> <STRONG>access</STRONG> <STRONG>all</STRONG> <A HREF="#47_12">Byte_Sequence</A>;</CODE></PRE>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="51_14"><SPAN CLASS="definition">Free</SPAN></A> <STRONG>is</STRONG> <STRONG>new</STRONG> Unchecked_Deallocation
  (<A HREF="#47_12">Byte_Sequence</A>, <A HREF="#48_9">Byte_Sequence_Access</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  A sequence of bytes. The encoding is unknown.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="58_9"><SPAN CLASS="definition">Byte_Order</SPAN></A> <STRONG>is</STRONG> (<A NAME="58_24"><SPAN CLASS="definition">High_Byte_First</SPAN></A>, <A NAME="58_41"><SPAN CLASS="definition">Low_Byte_First</SPAN></A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
 Byte order handling
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="67_9"><SPAN CLASS="definition">Bom_Type</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="68_7"><SPAN CLASS="definition">Utf8_All</SPAN></A>,  <EM><SPAN CLASS="comment">--  Utf8-encoding</SPAN></EM>
   <A NAME="69_7"><SPAN CLASS="definition">Utf16_LE</SPAN></A>,  <EM><SPAN CLASS="comment">--  Utf16 little-endian encoding</SPAN></EM>
   <A NAME="70_7"><SPAN CLASS="definition">Utf16_BE</SPAN></A>,  <EM><SPAN CLASS="comment">--  Utf16 big-endian encoding</SPAN></EM>
   <A NAME="71_7"><SPAN CLASS="definition">Utf32_LE</SPAN></A>,  <EM><SPAN CLASS="comment">--  Utf32 little-endian encoding</SPAN></EM>
   <A NAME="72_7"><SPAN CLASS="definition">Utf32_BE</SPAN></A>,  <EM><SPAN CLASS="comment">--  Utf32 big-endian encoding</SPAN></EM>
   <A NAME="73_7"><SPAN CLASS="definition">Ucs4_BE</SPAN></A>,   <EM><SPAN CLASS="comment">--  UCS-4, big endian machine (1234 order)</SPAN></EM>
   <A NAME="74_7"><SPAN CLASS="definition">Ucs4_LE</SPAN></A>,   <EM><SPAN CLASS="comment">--  UCS-4, little endian machine (4321 order)</SPAN></EM>
   <A NAME="75_7"><SPAN CLASS="definition">Ucs4_2143</SPAN></A>, <EM><SPAN CLASS="comment">--  UCS-4, unusual byte order (2143 order)</SPAN></EM>
   <A NAME="76_7"><SPAN CLASS="definition">Ucs4_3412</SPAN></A>, <EM><SPAN CLASS="comment">--  UCS-4, unusual byte order (3412 order)</SPAN></EM>
   <A NAME="77_7"><SPAN CLASS="definition">Unknown</SPAN></A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
 Byte-order mark handling
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>subtype</STRONG> <A NAME="81_12"><SPAN CLASS="definition">Bom_Type_Utf16</SPAN></A> <STRONG>is</STRONG> <A HREF="#67_9">Bom_Type</A> <STRONG>range</STRONG> <A HREF="#69_7">Utf16_LE</A> .. <A HREF="#70_7">Utf16_BE</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  the type of encoding used for a string, that can be deduced from the
  BOM.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>subtype</STRONG> <A NAME="82_12"><SPAN CLASS="definition">Bom_Type_Utf32</SPAN></A> <STRONG>is</STRONG> <A HREF="#67_9">Bom_Type</A> <STRONG>range</STRONG> <A HREF="#71_7">Utf32_LE</A> .. <A HREF="#72_7">Utf32_BE</A>;</CODE></PRE>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="84_14"><SPAN CLASS="definition">Read_Bom</SPAN></A>
  (Str : String;
   Len : <STRONG>out</STRONG> Natural;
   BOM : <STRONG>out</STRONG> <A HREF="#67_9">Bom_Type</A>;
   XML_Support : Boolean := True);</CODE></PRE>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="111_9"><SPAN CLASS="definition">Read_Function</SPAN></A> <STRONG>is</STRONG> <STRONG>access</STRONG>
  <STRONG>procedure</STRONG> (Str   : <A HREF="#47_12">Byte_Sequence</A>;
             Index : <STRONG>in</STRONG> <STRONG>out</STRONG> Positive;
             Char  : <STRONG>out</STRONG> <A HREF="unicode.html#119_9">Unicode_Char</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  All the packages in this hierarchy must provide at least two functions
  to read from a string (whatever its encoding).
<P>
  These can be used to completly parse a string.
      J := Str'First;
      while J &lt;= Str'Last loop
          C := Read (Str, J);    --   Read the character
          J := J + Width (C);    --   Move to the next
      end loop;
</P>
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="118_9"><SPAN CLASS="definition">Width_Function</SPAN></A> <STRONG>is</STRONG> <STRONG>access</STRONG>
  <STRONG>function</STRONG> (Char : <A HREF="unicode.html">Unicode</A>.<A HREF="unicode.html#119_9">Unicode_Char</A>) <STRONG>return</STRONG> Natural;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This function returns the character at position Index in the byte
  sequence Str, and moves Index to the start of the next character.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="123_9"><SPAN CLASS="definition">Encode_Function</SPAN></A> <STRONG>is</STRONG> <STRONG>access</STRONG>
  <STRONG>procedure</STRONG> (Char   : <A HREF="unicode.html#119_9">Unicode_Char</A>;
             Output : <STRONG>in</STRONG> <STRONG>out</STRONG> <A HREF="#47_12">Byte_Sequence</A>;
             Index  : <STRONG>in</STRONG> <STRONG>out</STRONG> Natural);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This function returns the number of bytes that encode Char in the
  specific encoding scheme.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="132_9"><SPAN CLASS="definition">Length_Function</SPAN></A> <STRONG>is</STRONG> <STRONG>access</STRONG>
  <STRONG>function</STRONG> (Str : <A HREF="#47_12">Byte_Sequence</A>) <STRONG>return</STRONG> Natural;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This function converts Char to the appropriate byte sequence that
  represents it in the specific encoding.
  The byte sequence is stored in Output, starting at Index + 1. On exit,
  Index is left on the last character set in Output.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="135_9"><SPAN CLASS="definition">Encoding_Scheme</SPAN></A> <STRONG>is</STRONG> <STRONG>record</STRONG>
   <A NAME="136_7"><SPAN CLASS="definition">Read</SPAN></A>            : <A HREF="#111_9">Read_Function</A>;
   <A NAME="137_7"><SPAN CLASS="definition">Width</SPAN></A>           : <A HREF="#118_9">Width_Function</A>;
   <A NAME="138_7"><SPAN CLASS="definition">Encode</SPAN></A>          : <A HREF="#123_9">Encode_Function</A>;
   <A NAME="139_7"><SPAN CLASS="definition">Length</SPAN></A>          : <A HREF="#132_9">Length_Function</A>;
<STRONG>end</STRONG> <STRONG>record</STRONG>;</CODE></PRE>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="146_13"><SPAN CLASS="definition">Index_From_Offset</SPAN></A>
  (Str : <A HREF="#47_12">Byte_Sequence</A>; Offset : Natural; Encoding : <A HREF="#135_9">Encoding_Scheme</A>)
   <STRONG>return</STRONG> Integer;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
 Misc functions
</DIV>
</TD></TR>
</TABLE>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD COLSPAN=2 CLASS="odd">
<PRE><CODE><STRONG>end</STRONG> <A HREF="unicode.html">Unicode</A>.CES;</CODE></PRE>
</TD></TR>
</TABLE>
<!-- --><HR><TABLE WIDTH="100%" CLASS="footer" BORDER=0 CELLSPACING=0 CELLPADDING=5><TR><TD><FONT SIZE=-1><!-- -->Generated on 2005-03-05 at 07:49:44 by <A HREF="http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/" TARGET="_top">AdaBrowse 4.0.1</A> using configuration file ../../xtoq-docs.cfg.</FONT></TD></TR></TABLE>
</BODY>
</HTML>
